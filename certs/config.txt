
[req]
req_extensions = v3_req
distinguished_name = req_distinguished_name
[ req_distinguished_name ]
[ v3_req ]
basicConstraints=CA:FALSE
subjectAltName=@alt_names
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth

# FIXME: This cert won't work if deployed in different namespace than aperture-system
[ alt_names ]
DNS.1 = agent-webhooks
DNS.2 = agent-webhooks.aperture-system
DNS.3 = agent-webhooks.aperture-system.svc
DNS.4 = agent-webhooks.aperture-system.svc.cluster.local
